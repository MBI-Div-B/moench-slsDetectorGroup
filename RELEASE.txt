SLS Detector Package 6.0.1 released on 23.11.2021
==================================================

This document describes the differences between v6.0.1 and v6.0.0.   



    CONTENTS
    --------
    1.  New or Changed Features
    2.  Resolved Issues
    3.  Firmware Requirements
    4.  Kernel Requirements
    5.  Download, Documentation & Support




1. New or Changed Features
==========================

    API
    ---

    1.  Kernel version
        Commandline: kernelversion, API: getKernelVersion

    2.  [Jungfrau][Mythen3][Gotthard2][Gotthard][Moench][Ctb]
        Update Kernel
        Commandline: updatekernel, API: updatekernel
        You could damage the detector. Please use with caution.

    3.  Update Detector Server (no tftp)
        Commandline: updatedetectorserver, API: updateDetectorServer
        Updates the detector server without using tftp. It also creates a 
        symbolic link to a shorter name and reboots. The API using tftp
        (copydetectorserver) is deprecated.

    4.  Update Firmware and Server (no tftp)
        Commandline: update (fewer arguments), API: updateFirmwareAndServer 
        (overloaded) Same as before, except the server is transferred to the 
        detector without tftp. The previous API and command (fewer arguments) 
        using tftp is deprecated.

    5.  Update mode in Detector server
        Commandline: udpatemode, API set/getUpdateMode
        One can set detector server to update mode (especially if server and 
        firmware are incompatible that the server cannot start up without errors).
        This mode will limit access to a few operations only needed to update the 
        detector. Setting it will create an empty file (udpate.txt) and resetting
        it will delete the empty file. Ofcourse, command line "--update" will 
        overwrite any file detection and start server in update mode.



2. Resolved Issues
==================

    Detector Server
    ---------------
    
    1.  [Jungfrau][Moench][Ctb] Programming Firmware Failures 
        Firmware programming via software failures are fixed using a new kernel 
        and corresponding changes in server software. Software works with both 
        old and new kernels.

    2.  [Gotthard2][Mythen3]  
        Verifies kernel version at server start up.


    Client
    ------

    1.  Receiver Id in the commands in config files were ignored. Fixed.

    2.  Execute command now also mentions which module failed.

    3.  [Jungfrau][Moench][Ctb] 
        Programming firmware procedure did not delete temporary file created in 
        6.0.0. Fixed.


    Receiver
    --------

    1.  Setting receiver hostname to "none" threw an exception. Fixed.



3. Firmware Requirements
========================
        
    Eiger
    =====  
    Compatible version : 08.10.2021 (v29)
    
    Jungfrau
    ========       
    Compatible version : 31.08.2021 (v1.2, PCB v1.0) 
                       : 08.10.2021 (v2.2, PCB v2.0)

    Gotthard
    ========   
    Compatible version : 08.02.2018 (50um and 25um Master)
                       : 09.02.2018 (25 um Slave) 

    Mythen3
    =======
    Compatible version : 10.09.2021 (v1.1)

    Gotthard2
    =========
    Compatible version : 27.05.2021 (v0.1)

    Moench
    ======
    Compatible version : 05.10.2020 (v1.0)

    Ctb
    ===
    Compatible version : 05.10.2020 (v1.0)

    Detector Upgrade
    ================
    The following can be upgraded remotely:
    Eiger      via bit files
    Jungfrau   via command <.pof>
    Mythen3    via command <.rbf>
    Gotthard2  via command <.rbf> 
    Moench     via command <.pof>
    Ctb        via command <.pof>

    The following cannot be upgraded remotely:
    Gotthard   

    Instructions available at
        https://slsdetectorgroup.github.io/devdoc/firmware.html
    and
        https://slsdetectorgroup.github.io/devdoc/serverupgrade.html



4. Kernel Requirements
======================

    Blackfin 
    ========
    Latest version: Fri Oct 29 00:00:00 2021

    Nios
    ====
    Compatible version: Mon May 10 18:00:21 CEST 2021

    Kernel Upgrade
    ==============
    Eiger   via bit files
    Others  via command

    Commands: udpatekernel, kernelversion
    Instructions available at
        https://slsdetectorgroup.github.io/devdoc/commandline.html
        https://slsdetectorgroup.github.io/devdoc/detector.html
        https://slsdetectorgroup.github.io/devdoc/pydetector.html



5. Download, Documentation & Support
====================================

    Download
    --------
    
    The Source Code:
         https://github.com/slsdetectorgroup/slsDetectorPackage
            
    Documentation
    -------------
    
    Installation:
        https://slsdetectorgroup.github.io/devdoc/installation.html#
        
    Firmware Upgrade:
        https://slsdetectorgroup.github.io/devdoc/firmware.html

    Detector Server upgrade:
        https://slsdetectorgroup.github.io/devdoc/serverupgrade.html

    Detector Simulators:
        https://slsdetectorgroup.github.io/devdoc/virtualserver.html

    Consuming slsDetectorPackage:
        https://slsdetectorgroup.github.io/devdoc/consuming.html
        
    API Examples:
        https://github.com/slsdetectorgroup/api-examples

    Command Line Documentation:
        https://slsdetectorgroup.github.io/devdoc/commandline.html

    Quick Start Guide:
        https://slsdetectorgroup.github.io/devdoc/quick_start_guide.html
        
    C++ API Documentation:
        https://slsdetectorgroup.github.io/devdoc/detector.html
       
    C++ API Example:
        https://slsdetectorgroup.github.io/devdoc/examples.html#
        
    Python API Documentation:
        https://slsdetectorgroup.github.io/devdoc/pygettingstarted.html

    Python API Example:
        https://slsdetectorgroup.github.io/devdoc/pyexamples.html

    Receivers (including custom receiver):
        https://slsdetectorgroup.github.io/devdoc/receivers.html
        https://slsdetectorgroup.github.io/devdoc/slsreceiver.html

    TroubleShooting:
        https://slsdetectorgroup.github.io/devdoc/troubleshooting.html
        
    Further Documentation:
        https://www.psi.ch/en/detectors/documentation
        
    Info on Releases:
        https://www.psi.ch/en/detectors/software


    Support
    -------

        dhanya.thattil@psi.ch
        erik.frojdh@psi.ch

